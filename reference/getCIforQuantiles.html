<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities. ' — getCIforQuantiles • CECPfuns</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities. ' — getCIforQuantiles"><meta name="description" content="Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities.
'"><meta property="og:description" content="Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities.
'"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CECPfuns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9064</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Background.html">Background</a></li>
    <li><a class="dropdown-item" href="../articles/Bootstrapping.html">Bootstrapping</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/RCSC_framework.html">RCSC_framework</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities. '</h1>

      <div class="d-none name"><code>getCIforQuantiles.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Function returns a tibble of quantiles and confidence interval of quantiles for a range of probabilities.
'</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getCIforQuantiles</span><span class="op">(</span></span>
<span>  vecDat <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  vecQuantiles <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nyblom"</span>, <span class="st">"Exact"</span>, <span class="st">"Bootstrap"</span><span class="op">)</span>,</span>
<span>  ci <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  R <span class="op">=</span> <span class="fl">9999</span>,</span>
<span>  type <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-vecdat">vecDat<a class="anchor" aria-label="anchor" href="#arg-vecdat"></a></dt>
<dd><p>Vector of the data</p></dd>


<dt id="arg-vecquantiles">vecQuantiles<a class="anchor" aria-label="anchor" href="#arg-vecquantiles"></a></dt>
<dd><p>Vector of the quantiles you want</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Method you want to use to get the confidence intervals</p></dd>


<dt id="arg-ci">ci<a class="anchor" aria-label="anchor" href="#arg-ci"></a></dt>
<dd><p>Confidence interval (default .95)</p></dd>


<dt id="arg-r">R<a class="anchor" aria-label="anchor" href="#arg-r"></a></dt>
<dd><p>Number of bootstrap replications if using bootstrap method</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Type of quantile (default is 8)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble of the results with variables:
prob: the quantile required, i.e. .05, .5 would give the median, .95 the 95th (per)centile
n: total n
nOK: number of non-missing values
nMiss: number of missing values
quantile: the quantile for that value of prob
LCL: lower confidence limit for that quantile
UCL: upper confidence limt for that quantile</p>
    </div>
    <div class="section level2">
    <h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a></h2>


<p>Quantiles, like percentiles, can be a very useful way of
understanding a distribution, in MH research, typically a
distribution of scores, often either help-seeking sample
distribution or a non-help-seeking sample.</p>
<p>For example, you might want to see if a score you have for
someone is above the 95% (per)centile, i.e. above the .95
quantile of the non-help-seeking sample distribution.</p>
<p>The catch is that, like any sample statistic, a
quantile/percentile is generally being used as an estimate
of a population value.  That is to say we are really interested
in whether the score we have is above the 95% percentile of a
non-help-seeking population.  That means that the
quantiles/percentiles from a sample are only approximate guides
to the population values.</p>
<p>As usual, a confidence interval (CI) around an observed quantile
is a way of seeing how precisely, assuming random sampling of
course, the sample quantile can guide us about the population
quantile.</p>
<p>Again as usual, the catch is that there are different ways of
compute the CI around a quantile.  This function is a wrapper
around three methods from Michael Höhle's quantileCI package:</p><ul><li><p>the Nyblom method</p></li>
<li><p>the "exact" method</p></li>
<li><p>the bootstrap method</p></li>
</ul><p>As I understand the quantileCI package the classic paper by
Nyblom, generally the Nyblom method will be as good or better
than the exact method and much faster than bootstrapping
so the Nyblom method is the default here but I have put the
others in for completeness.</p>
    </div>
    <div class="section level2">
    <h2 id="history">History<a class="anchor" aria-label="anchor" href="#history"></a></h2>


<p>Started 4.vii.23</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Nyblom, J. (1992). Note on interpolated order statistics.
Statistics &amp; Probability Letters, 14(2), 129–131.
https://doi.org/10.1016/0167-7152(92)90076-H</p></li>
<li><p>https://github.com/mhoehle/quantileCI</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other CI functions, quantile functions:
<code><a href="plotQuantileCIsfromDat.html">plotQuantileCIsfromDat</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Chris Evans</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">### will need tidyverse to run</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### will need quantileCI to run</span></span></span>
<span class="r-in"><span><span class="co">### if you don't have quantileCI package you need to get it from github:</span></span></span>
<span class="r-in"><span><span class="co"># devtools::install_github("hoehleatsu/quantileCI")</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hoehleatsu/quantileCI" class="external-link">quantileCI</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### use the exact method</span></span></span>
<span class="r-in"><span><span class="fu">getCIforQuantiles</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.5</span>, <span class="fl">.95</span><span class="op">)</span>, <span class="st">"e"</span>, ci <span class="op">=</span> <span class="fl">.95</span>, R <span class="op">=</span> <span class="fl">9999</span>, type <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### use the Nyblom method</span></span></span>
<span class="r-in"><span><span class="fu">getCIforQuantiles</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.5</span>, <span class="fl">.95</span><span class="op">)</span>, <span class="st">"n"</span>, ci <span class="op">=</span> <span class="fl">.95</span>, R <span class="op">=</span> <span class="fl">9999</span>, type <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">### use the bootstrap method</span></span></span>
<span class="r-in"><span><span class="fu">getCIforQuantiles</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.5</span>, <span class="fl">.95</span><span class="op">)</span>, <span class="st">"b"</span>, ci <span class="op">=</span> <span class="fl">.95</span>, R <span class="op">=</span> <span class="fl">9999</span>, type <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chris Evans.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>


<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction • CECPfuns</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CECPfuns</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9065</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Background.html">Background</a></li>
    <li><a class="dropdown-item" href="../articles/Bootstrapping.html">Bootstrapping</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/RCSC_framework.html">RCSC_framework</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction</h1>
            
      

      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cpsyctc.github.io/CECPfuns/" class="external-link">CECPfuns</a></span><span class="op">)</span></span></code></pre></div>
<p><em>[Updated 14.iv.21 partly to test uploading of vignettes]</em></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You should always be able to install the latest version of the
package with</p>
<ul>
<li><p><code>remotes::install_github("cpsyctc/CECPfuns", build_vignettes = TRUE)</code></p></li>
<li><p><code>devtools::install_github("cpsyctc/CECPfuns", build_vignettes = TRUE)</code></p></li>
</ul>
<p>Clearly, to make those commands work you will need to have installed
either the massive (and amazing) devtools package
(<code>install.packages("devtools")</code>) or the much lighter remotes
package (<code>install.packages("remotes")</code>) which is largely a
wrapper for some devtools functions.</p>
<p>Please check the <a href="https://opensource.org/licenses/MIT" class="external-link">MIT
licence</a> for liability disclaimer: use these functions entirely at
your own risk.</p>
</div>
<div class="section level2">
<h2 id="how-might-you-find-this-package-useful">How might you find this package useful?<a class="anchor" aria-label="anchor" href="#how-might-you-find-this-package-useful"></a>
</h2>
<p>I have functions for various areas of my own needs:</p>
<ol style="list-style-type: decimal">
<li>data cleaning/checking and shaping for analysis,
e.g. <code><a href="../reference/isOneToOne.html">isOneToOne()</a></code>, <code><a href="../reference/getNOK.html">getNOK()</a></code>
</li>
<li>functions that provide statistical and psychometric analyses,
e.g. <code><a href="../reference/getCSC.html">getCSC()</a></code>, <code><a href="../reference/getBootCImean.html">getBootCImean()</a></code>
</li>
<li>functions that illustrate or help such analyses,
e.g. <code><a href="../reference/plotBinconf.html">plotBinconf()</a></code>
</li>
<li>miscellaneous functions that have made my life easier!</li>
</ol>
<p>Clara and Emily have each found some of these functions useful to
them and the functions have helped us with the analyses in Emily’s
enormous PhD and for papers that Clara and and I have published. We
imagine that others working in the mental health, well-being, therapy
worlds will also find them useful and they could even be useful in
universities and other training settings where R is replacing SPSS.</p>
</div>
<div class="section level2">
<h2 id="how-will-it-be-best-to-use-the-package">How will it be best to use the package?<a class="anchor" aria-label="anchor" href="#how-will-it-be-best-to-use-the-package"></a>
</h2>
<div class="section level3">
<h3 id="operating-system-r-version-and-r-package-requirements">Operating system, R version and R package requirements<a class="anchor" aria-label="anchor" href="#operating-system-r-version-and-r-package-requirements"></a>
</h3>
<p>I am trying to make sure that all the functions run on the major
operating systems: Linux, Windows and Mac and that it should work back
to R 3.5. At the moment I think it works fine on all permutations of
those systems and all major releases of R since 3.6. In theory it should
work on 3.5 but the R-hub test machine gives an error saying that the
package tibble on which CECPfuns depends is not available there though
the tibble package page says it works for R ≥ 3.1.0 so there is
something odd there that I may or may not be be able to sort out. If you
find the package won’t work on your system for R ≥ 3.5.0 do <a href="https://www.psyctc.org/psyctc/contact-me/" class="external-link">contact me</a> with
details of your system and what errors you see and I’ll see if I can
make changes to fix it.</p>
</div>
<div class="section level3">
<h3 id="why-tidyverse">Why tidyverse?<a class="anchor" aria-label="anchor" href="#why-tidyverse"></a>
</h3>
<p>In the last year or so, since some time probably late 2019, I have
been using the tidyverse realm within the rather diverse ecosystems of
R, see <a href="https://www.psyctc.org/Rblog/posts/2021-02-07-why-pipe-why-the-tidyverse/" class="external-link">here</a>
for more about why. That’s probable sensible reading if you are not
already a tidyverse user and want to understand some of the design
decisions I have made. The next post in my SAFAQ R blog <a href="https://www.psyctc.org/Rblog/posts/2021-02-10-more-piping-introducing-rowwise/" class="external-link">More
piping, and rowwise()</a> is also probable sensible reading as it says a
bit about why many of the functions here are designed so that they can
be used either standalone or in dplyr pipes. That is particularly useful
when you might want to run the same analyses for an entire dataset but
also separately for subgroups, e.g. by gender, or by therapist.</p>
<p>My page <a href="https://www.psyctc.org/Rblog/wisdom.html" class="external-link">Wisdom(!)</a> contains,
a little ruefully, many things I have learned the hard way about data
checking, cleaning, mangling and analysing over the last three decades.
Some of it now converges well with the reproducibility movement.</p>
</div>
</div>
<div class="section level2">
<h2 id="design-choices">Design choices<a class="anchor" aria-label="anchor" href="#design-choices"></a>
</h2>
<div class="section level3">
<h3 id="code">Code<a class="anchor" aria-label="anchor" href="#code"></a>
</h3>
<p>The code is all R: no C, C++, FORTRAN as they’re really beyond my
programming abilities.</p>
<p>I have tried to indent and space the code following the conventions
that lintr::lint() likes so a lot of space and consistent indenting. I
have also tried to comment things liberally. Perhaps sometimes I have
overdone that where the code might have been sufficiently clear not to
need comments. However, I know my coding is not good (I’m essentially
self-taught: a week of introduction to FORTRAN for students <em>not</em>
doing computing in 1975). I do now sometimes find myself working with
long thin format datasets with over a million rows and that will climb
so some of these functions may get to be run on such sizes of data,
however, most of what I work with is much, much smaller so I have almost
never worried about speed or whether large numbers will break anything.
I have put some error traps in on bootstrapping functions where I think
the number of replications might tie things up for a long time. However,
I think I have always allowed for those traps to be overridden.</p>
</div>
<div class="section level3">
<h3 id="messages-error-messages-and-warnings">Messages, error messages and warnings<a class="anchor" aria-label="anchor" href="#messages-error-messages-and-warnings"></a>
</h3>
<p>I have tried to put in error messages that will stop functions rather
than warnings. Sometimes, where it might conceivably be sensible to do
override such a trap because you have a value you want to input to a
function that I have tried to warn against, I have tried to give the
function an argument that allows you to turn that error into a warning.
I have put in warnings in the rarer cases when I really don’t think an
error stopping things is correct, but where I think the input might be a
mistake.</p>
<p>I have also put in messages from some functions but if I have, I
think I have always also added a “verbose =” argument which if you set
it to FALSE, will suppress the warning.</p>
<p>I have put in ridiculous numbers of sanity checks on inputs and other
arguments, often there are &gt; 10 of these even for fairly simple
functions. My rationale was that I want this package to be fairly
friendly for relative newcomers to R, or those only using it
infrequently. I have done this to try to avoid the situation in which I
put something silly into a function but it passes it on to a deeper
function or step with the result that the error message I see can be
very hard to understand and won’t immediately point me to my error. My
aspiration is that everything you might not have meant to do gets
trapped before it goes any further.</p>
</div>
<div class="section level3">
<h3 id="functionnamesareverlongand-names-generally">FunctionNamesAreVerlongAnd … names generally!<a class="anchor" aria-label="anchor" href="#functionnamesareverlongand-names-generally"></a>
</h3>
<p>I have used long names for functions and for arguments. I’m sorry but
I think the extra typing is offset by reduced confusion.</p>
<p>My function names tend to start with a verb: “classify”, “get” and
“plot” are recurring ones. I am also using a rather debased “camelCase”
where names start with a lower case letter and upper case letters mark
where a space has been lost from ordinary English. However, I can’t bear
to use getNNa for “get the Number of NA values” so it’s
<code>getNNA</code>. Generally I have priviledged multiple capital
letters from English abbreviations over strict camelCase in that
way.</p>
<p>I have tried to use names inside functions that start with the class
of the object: vecN, valX, listNames, matCorr, tibData. However, I think
you won’t see those unless you want to see the code inside a function,
which you can always do with <code>functionName</code>, i.e. the
function but without the usual “()” on the end.</p>
</div>
<div class="section level3">
<h3 id="synonyms">Synonyms<a class="anchor" aria-label="anchor" href="#synonyms"></a>
</h3>
<p>Occasionally I have created a synonym for a function, for example
<code><a href="../reference/isOneToOne.html">checkIsOneToOne()</a></code> is simply the same function as
<code><a href="../reference/isOneToOne.html">isOneToOne()</a></code> and if you ask for the ### Code testing</p>
<p>I have used the excellent testthat library and tried to write tests
for all functions. Every function has tests on the sanity tests on the
inputs/arguments you give the fun, if the function can give warnings,
then I have tested them and generally I have put in some test on
expected output from sample input. However, at the moment I am not
testing the ggplot output from <code>plotFunction()</code> functions as
I suspect that would then involve me having to reset the test targets
whenever <code>ggplot()</code> is updated.</p>
<p>Those tests get run every time I update the package and are run on my
local machine but also on the major operating systems and major R
releases back to 3.5 (see above for requirements).</p>
</div>
<div class="section level3">
<h3 id="help-pages-and-vignettes">Help pages and vignettes<a class="anchor" aria-label="anchor" href="#help-pages-and-vignettes"></a>
</h3>
<p>I am trying to make the help pages far more extensive than they would
be for many R functions and have tried to write them so they not only
give the basics to enable you to run the function, know what arguments
do what and what it returns, but also to give a lot of examples of use
of the function. Again unusually, I have tried to give at least some of
the statistical, psychometric or pragmatic background to the function. I
am also planning to build a lot of vignettes into the package which will
often link a number of functions together and give more background and
perhaps some illustrations of use and output. I am also aiming for the
help pages, but particularly the vignettes to link to the web resources,
particularly to my own (that’s not just narcissism: it’s also because
then I am responsible for keeping the links working and logical and so
links shouldn’t break).</p>
<p>At the moment the vignettes here are:</p>
<ul>
<li>this introduction</li>
<li>some background on the package
(<code><a href="../articles/Background.html">vignette("Background", package = "CECPfuns")</a></code>)</li>
<li>information about the RCSC framework
(<code><a href="../articles/RCSC_framework.html">vignette("RCSC_framework", package = "CECPfuns")</a></code>)</li>
<li>information on confidence intervals (CIs) and bootstrapping
(<code><a href="../articles/Bootstrapping.html">vignette("Bootstrapping", package = "CECPfuns")</a></code>)</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h2>
<p>You can find more background about the tiny team working on this, and
some other background, in the background vignette. You should be able to
get to that with this.</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"Background"</span>, package <span class="op">=</span> <span class="st">"CECPfuns"</span><span class="op">)</span> </span></code></pre>
</div>
<div class="section level2">
<h2 id="to-do-list">To do list!<a class="anchor" aria-label="anchor" href="#to-do-list"></a>
</h2>
<p>Sadly, this list is long and certainly incomplete. I am sure it will
continue to develop, the package too I hope, for years!</p>
<ul>
<li>
<p>General enhancement of the package</p>
<ul>
<li><p>Improve help pages for existing functions</p></li>
<li><p>Add tests: added for all functions so far, could do with
expansion?</p></li>
<li><p>Complete the other vignettes that exist and then add
more.</p></li>
<li><p>Add data</p></li>
<li><p>UK YP-CORE cutting points</p></li>
</ul>
</li>
<li>
<p>Functions</p>
<ul>
<li>data cleaning/checking and shaping for analysis
<ul>
<li>Add getScore()</li>
<li>Add getCOREOMscores() (for the CORE-OM)</li>
<li>Add getCORESFAOMscores() (for the CORE-SF/A)</li>
<li>Add getCORESFBOMscores() (for the CORE-SF/B)</li>
<li>Add classifyYPCOREScores() (for the YP-CORE, by age and gender)</li>
<li>Add classifyScoresGeneric()</li>
</ul>
</li>
<li>functions that provide statistical and psychometric analyses
<ul>
<li>Add getRCIfromItemData()</li>
<li>Add getBootCIRCIfromScoresAndAlpha()</li>
<li>Add getBootCIRCIfromItemData()</li>
<li>Add getBootCIMeanDiff()</li>
<li>Add getHedgesg()</li>
<li>Add getCohend() (deal with “-2” issue)</li>
<li>Add getCohendPaired()</li>
<li>Add convCohend2Hedgesg() (deal with “-2”)</li>
<li>Add countRCSCnumbers() (allow for gender?)</li>
</ul>
</li>
<li>functions that illustrate or help such analyses
<ul>
<li>Add plotJacobsonRCSC() (ditto)</li>
</ul>
</li>
<li>miscellaneous functions that have made my life easier!
<ul>
<li>Add findYourFunctions()</li>
<li>Add getRmdFileStats()</li>
<li>Add readCEdates()</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>then perhaps some functions for standard reports from (fairly)
standard CORE datasets (should feed separate Rmd templates)</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Chris Evans.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
